<!DOCTYPE HTML>
<!--
	Hyperspace by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
		<title>WCSD6 Instructional Technology Notifications</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
	</head>

<!--website favicon-->
<link rel="shortcut icon" href="images/favicon.ico">
	<body>

		<!-- Sidebar -->
			<section id="sidebar">
				<div class="inner">
					<nav>
						<ul>
							<li><a href="#intro">Welcome</a></li>
							<li><a href="#one">How</a></li>
							<li><a href="#two">Supported Apps</a></li>
							<!--<li><a href="more.html">More</a></li>-->
						</ul>
					</nav>
				</div>
			</section>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Intro -->
					<section id="intro" class="wrapper style1 fullscreen fade-up">
						<div class="inner">
							<h1>WCSD6 Instructional Technology Communications</h1>
							<p>We utilize many different instructional technology providers in WCSD6. Check out the various ways we can communicate with you in the event that one or more of our providers is experiencing issues.</p>
							<ul class="actions">
								<li><a href="#one" class="button scrolly">Learn more</a></li>
							</ul>
						</div>
					</section>

				<!-- One -->
					<section id="one" class="wrapper style2 spotlights">
						<section>
							<a href="#" class="image"><img src="images/pic02.jpg" alt="" data-position="top center" /></a>
							<div class="content">
								<div class="inner">
									<h2>Get Push Notifications</h2>
									<p>Subscribe to browser notifications or install our basic Chrome Extension will enable push notifications to your desktop computer. Click on the link below to install!</p>
									<ul class="actions">
										<li><a id="subscribe" class="button" onclick="subscribeOneSignal()">Subscribe</a></li>
										<li><a id="unsubscribe" class="button" onclick="unSubscribeOneSignal()">Unsubscribe</a></li>
										<li><a href="https://chrome.google.com/webstore/detail/wcsd6-personalized-learni/ohjebaehbmbjgbnabdnacknmlgimjmje" target="_blank" class="button">Install Chrome Extension</a></li>
									</ul>
								</div>
							</div>
						</section>
						<section>
							<a href="#" class="image"><img src="images/pic01.jpg" alt="" data-position="center center" /></a>
							<div class="content">
								<div class="inner">
									<h2>Join Our Slack Workspace</h2>
									<p>Slack brings all your team's communication together, giving everyone a shared workspace where conversations are organized and accessible.</p>
									<ul class="actions">
										<li><a href="https://wcsd6-slack-inviter.herokuapp.com/" target="_blank" class="button">Lets Slack!</a></li>
									</ul>
								</div>
							</div>
						</section>
						<section>
							<a href="#" class="image"><img src="images/pic03.jpg" alt="" data-position="25% 25%" /></a>
							<div class="content">
								<div class="inner">
									<h2>Status Page</h2>
									<p>We have a status page! That's right, we've made single website where you can see the status of all of our major instructional technology applications. If you don't see the app you're looking for, it's probably because that app doesn't currently have a way of notifying us when their site is down. We'll add to our status page as soon as they support it!</p>
									<ul class="actions">
										<li><a href="https://wcsd6-status.appspot.com" target="_blank" class="button">Status Page</a></li>
									</ul>
								</div>
							</div>
						</section>
						<section>
							<a href="#" class="image"><img src="images/pic07.jpg" alt="" data-position="top center" /></a>
							<div class="content">
								<div class="inner">
									<h2>Get Emails Instead!</h2>
									<p>Getting notifications not your thing? Not to worry - you can also subscribe to our email list and receive updates straight to your inbox!</p>
									<ul class="actions">
										<li><a href="https://groups.google.com/a/greeleyschools.org/forum/#!forum/status-updates" target="_blank" class="button">Join the List!</a></li>
										<li><a href="#two" target="_blank" class="button scrolly">More</a></li>
									</ul>
								</div>
							</div>
						</section>
					</section>

				<!-- Two -->
					<section id="two" class="wrapper style3 fade-up">
						<div class="inner">
							<h2>Supported Apps</h2>
							<p>We are able to alert you whenever the following providers are experiencing issues. You will receive an alert every time the app updates its status - we do NOT control this. <br><br>*Please note that you will receive notifications from all of the providers listed below.</p>
							<div class="features">
								<section>
									<span class="icon major fa-sign-in"></span>
									<h3>Clever</h3>
									<p>Clever is our single sign-on solution for District 6. We utilize this for logging into most, if not all, of our digital learning applications.</p>
								</section>
								<section>
									<span class="icon major fa-google"></span>
									<h3>Google</h3>
									<p>Our email and productivity applications, such as Google Docs, are all provided through Google's G Suite for Education.</p>
								</section>
								<section>
									<span class="icon major fa-cog"></span>
									<h3>Schoology</h3>
									<p>Schoology is our official Learning Management System. We automatically roster your courses for you so you can get right to work on your course shell and creating awesome formative assessments.</p>
								</section>
								<section>
									<span class="icon major fa-desktop"></span>
									<h3>Dreambox</h3>
									<p>Dreambox is an adaptive math program that is available to many of our elementary and middle schools. Dreambox only serves content for K-8.</p>
								</section>
								<section>
									<span class="icon major fa-code"></span>
									<h3>Khan Academy</h3>
									<p>Khan Academy is the go-to place for learning new skills online. From Eureka Math to learning Javascript - we utilize Khan Academy in many different ways in District 6!</p>
								</section>
								<section>
									<span class="icon major fa-book"></span>
									<h3>Reading Plus</h3>
									<p>Reading Plus is a reading intervention that builds comprehension, vocabulary, and fluency through adaptive, engaging lessons.</p>
								</section>
							</div>
							<ul class="actions">
								<!--<li><a href="#" class="button">Learn more</a></li>-->
							</ul>
						</div>
					</section>

				<!-- Three -->
					<!--<section id="three" class="wrapper style1 fade-up">
						<div class="inner">
							<h2>Get in touch</h2>
							<p>Phasellus convallis elit id ullamcorper pulvinar. Duis aliquam turpis mauris, eu ultricies erat malesuada quis. Aliquam dapibus, lacus eget hendrerit bibendum, urna est aliquam sem, sit amet imperdiet est velit quis lorem.</p>
							<div class="split style1">
								<section>
									<form method="post" action="#">
										<div class="field half first">
											<label for="name">Name</label>
											<input type="text" name="name" id="name" />
										</div>
										<div class="field half">
											<label for="email">Email</label>
											<input type="text" name="email" id="email" />
										</div>
										<div class="field">
											<label for="message">Message</label>
											<textarea name="message" id="message" rows="5"></textarea>
										</div>
										<ul class="actions">
											<li><a href="" class="button submit">Send Message</a></li>
										</ul>
									</form>
								</section>
								<section>
									<ul class="contact">
										<li>
											<h3>Address</h3>
											<span>12345 Somewhere Road #654<br />
											Nashville, TN 00000-0000<br />
											USA</span>
										</li>
										<li>
											<h3>Email</h3>
											<a href="#">user@untitled.tld</a>
										</li>
										<li>
											<h3>Phone</h3>
											<span>(000) 000-0000</span>
										</li>
										<li>
											<h3>Social</h3>
											<ul class="icons">
												<li><a href="#" class="fa-twitter"><span class="label">Twitter</span></a></li>
												<li><a href="#" class="fa-facebook"><span class="label">Facebook</span></a></li>
												<li><a href="#" class="fa-github"><span class="label">GitHub</span></a></li>
												<li><a href="#" class="fa-instagram"><span class="label">Instagram</span></a></li>
												<li><a href="#" class="fa-linkedin"><span class="label">LinkedIn</span></a></li>
											</ul>
										</li>
									</ul>
								</section>
							</div>
						</div>
					</section>-->

			</div>

		<!-- Footer -->
			<footer id="footer" class="wrapper style1-alt">
				<div class="inner">
					<ul class="menu">
						<li>&copy; WCSD6 Department of Instructional Technology. All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
					</ul>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

			<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.3.0/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyBh66HCBR8SpIjF7NgFtDDaMzN6jx5evpU",
    authDomain: "digital-content-notifications.firebaseapp.com",
    databaseURL: "https://digital-content-notifications.firebaseio.com",
    projectId: "digital-content-notifications",
    storageBucket: "digital-content-notifications.appspot.com",
    messagingSenderId: "502148288089",
    appId: "1:502148288089:web:4c93763e5d43269c3b2b48"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
</script>

<!-- Import and configure the Firebase SDK -->
<!-- These scripts are made available when the app is served or deployed on Firebase Hosting -->
<!-- If you do not serve/host your project using Firebase Hosting see https://firebase.google.com/docs/web/setup -->
<script src="/__/firebase/7.3.0/firebase-app.js"></script>
<script src="/__/firebase/7.3.0/firebase-messaging.js"></script>
<script src="/__/firebase/init.js"></script>

<script>
  // [START get_messaging_object]
  // Retrieve Firebase Messaging object.
  const messaging = firebase.messaging();
  // [END get_messaging_object]
  // [START set_public_vapid_key]
  // Add the public key generated from the console here.
  messaging.usePublicVapidKey('<BJ513RVJvl4-lj7eFkIbKxj5bBXHdwPRwMAtOFSh0tpoYY7ZyZcUEjkkYJqqTGpAOH554F2XqBj9xODy3oZnvgY>');
  // [END set_public_vapid_key]

  // IDs of divs that display Instance ID token UI or request permission UI.
  const tokenDivId = 'token_div';
  const permissionDivId = 'permission_div';

  // [START refresh_token]
  // Callback fired if Instance ID token is updated.
  messaging.onTokenRefresh(() => {
    messaging.getToken().then((refreshedToken) => {
      console.log('Token refreshed.');
      // Indicate that the new Instance ID token has not yet been sent to the
      // app server.
      setTokenSentToServer(false);
      // Send Instance ID token to app server.
      sendTokenToServer(refreshedToken);
      // [START_EXCLUDE]
      // Display new Instance ID token and clear UI of all previous messages.
      resetUI();
      // [END_EXCLUDE]
    }).catch((err) => {
      console.log('Unable to retrieve refreshed token ', err);
      showToken('Unable to retrieve refreshed token ', err);
    });
  });
  // [END refresh_token]

  // [START receive_message]
  // Handle incoming messages. Called when:
  // - a message is received while the app has focus
  // - the user clicks on an app notification created by a service worker
  //   `messaging.setBackgroundMessageHandler` handler.
  messaging.onMessage((payload) => {
    console.log('Message received. ', payload);
    // [START_EXCLUDE]
    // Update the UI to include the received message.
    appendMessage(payload);
    // [END_EXCLUDE]
  });
  // [END receive_message]

  function resetUI() {
    clearMessages();
    showToken('loading...');
    // [START get_token]
    // Get Instance ID token. Initially this makes a network call, once retrieved
    // subsequent calls to getToken will return from cache.
    messaging.getToken().then((currentToken) => {
      if (currentToken) {
        sendTokenToServer(currentToken);
        updateUIForPushEnabled(currentToken);
      } else {
        // Show permission request.
        console.log('No Instance ID token available. Request permission to generate one.');
        // Show permission UI.
        updateUIForPushPermissionRequired();
        setTokenSentToServer(false);
      }
    }).catch((err) => {
      console.log('An error occurred while retrieving token. ', err);
      showToken('Error retrieving Instance ID token. ', err);
      setTokenSentToServer(false);
    });
    // [END get_token]
  }


  function showToken(currentToken) {
    // Show token in console and UI.
    const tokenElement = document.querySelector('#token');
    tokenElement.textContent = currentToken;
  }

  // Send the Instance ID token your application server, so that it can:
  // - send messages back to this app
  // - subscribe/unsubscribe the token from topics
  function sendTokenToServer(currentToken) {
    if (!isTokenSentToServer()) {
      console.log('Sending token to server...');
      // TODO(developer): Send the current token to your server.
      setTokenSentToServer(true);
    } else {
      console.log('Token already sent to server so won\'t send it again ' +
          'unless it changes');
    }

  }

  function isTokenSentToServer() {
    return window.localStorage.getItem('sentToServer') === '1';
  }

  function setTokenSentToServer(sent) {
    window.localStorage.setItem('sentToServer', sent ? '1' : '0');
  }

  function showHideDiv(divId, show) {
    const div = document.querySelector('#' + divId);
    if (show) {
      div.style = 'display: visible';
    } else {
      div.style = 'display: none';
    }
  }

  function requestPermission() {
    console.log('Requesting permission...');
    // [START request_permission]
    Notification.requestPermission().then((permission) => {
      if (permission === 'granted') {
        console.log('Notification permission granted.');
        // TODO(developer): Retrieve an Instance ID token for use with FCM.
        // [START_EXCLUDE]
        // In many cases once an app has been granted notification permission,
        // it should update its UI reflecting this.
        resetUI();
        // [END_EXCLUDE]
      } else {
        console.log('Unable to get permission to notify.');
      }
    });
    // [END request_permission]
  }

  function deleteToken() {
    // Delete Instance ID token.
    // [START delete_token]
    messaging.getToken().then((currentToken) => {
      messaging.deleteToken(currentToken).then(() => {
        console.log('Token deleted.');
        setTokenSentToServer(false);
        // [START_EXCLUDE]
        // Once token is deleted update UI.
        resetUI();
        // [END_EXCLUDE]
      }).catch((err) => {
        console.log('Unable to delete token. ', err);
      });
      // [END delete_token]
    }).catch((err) => {
      console.log('Error retrieving Instance ID token. ', err);
      showToken('Error retrieving Instance ID token. ', err);
    });

  }

  // Add a message to the messages element.
  function appendMessage(payload) {
    const messagesElement = document.querySelector('#messages');
    const dataHeaderELement = document.createElement('h5');
    const dataElement = document.createElement('pre');
    dataElement.style = 'overflow-x:hidden;';
    dataHeaderELement.textContent = 'Received message:';
    dataElement.textContent = JSON.stringify(payload, null, 2);
    messagesElement.appendChild(dataHeaderELement);
    messagesElement.appendChild(dataElement);
  }

  // Clear the messages element of all children.
  function clearMessages() {
    const messagesElement = document.querySelector('#messages');
    while (messagesElement.hasChildNodes()) {
      messagesElement.removeChild(messagesElement.lastChild);
    }
  }

  function updateUIForPushEnabled(currentToken) {
    showHideDiv(tokenDivId, true);
    showHideDiv(permissionDivId, false);
    showToken(currentToken);
  }

  function updateUIForPushPermissionRequired() {
    showHideDiv(tokenDivId, false);
    showHideDiv(permissionDivId, true);
  }

  resetUI();
</script>

	</body>
</html>
